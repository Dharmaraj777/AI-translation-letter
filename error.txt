# in ai_translation_utils.py
import os

class UtilityFunctions:
    # ... existing stuff ...

    @staticmethod
    def replace_extension(filename: str, new_ext: str) -> str:
        base, _ = os.path.splitext(filename)
        return base + new_ext

==========================================

import os

def make_output_name(input_name: str, target_language_suffix: str = "_fr") -> str:
    base, ext = os.path.splitext(input_name)
    ext_lower = ext.lower()

    if ext_lower == ".pdf":
        # For PDF, we are now returning DOCX bytes from PdfTranslator
        return f"{base}{target_language_suffix}.docx"
    else:
        # For DOCX / PPTX keep same extension
        return f"{base}{target_language_suffix}{ext}"


================

output_blob_name = make_output_name(blob_name, "_fr")
logger.info(f"Uploading translated file: {output_blob_name}")
# upload bytes from translator.translate_document(...) with this name
